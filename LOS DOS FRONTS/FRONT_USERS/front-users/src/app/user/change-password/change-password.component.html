<div class="password-form">
    <h2 *ngIf="!isResetFlow">Cambiar contraseña</h2>
    <h2 *ngIf="isResetFlow && token">Restablecer contraseña</h2>
    <h2 *ngIf="isResetFlow && !token">Olvidé mi contraseña</h2>
  
    <form (ngSubmit)="submit()">
      <div *ngIf="!isResetFlow">
        <label>Contraseña actual</label>
        <input type="password" [(ngModel)]="currentPassword" name="currentPassword" required>
      </div>
  
      <div *ngIf="isResetFlow && !token">
        <label>Email</label>
        <input type="email" [(ngModel)]="email" name="email" required>
      </div>
  
      <div *ngIf="!(!token && isResetFlow)">
        <label>Nueva contraseña</label>
        <input type="password" [(ngModel)]="newPassword" name="newPassword" required>
      </div>
  
      <button type="submit" [disabled]="loading">
        {{ loading ? 'Procesando...' : (isResetFlow ? (token ? 'Resetear contraseña' : 'Enviar email') : 'Cambiar contraseña') }}
      </button>
    </form>
  
    <p class="message" *ngIf="message">{{ message }}</p>
    <p class="error" *ngIf="error">{{ error }}</p>
  </div>
  